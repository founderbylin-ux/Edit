<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TED</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* ယခင်က CSS တွေကို အတူတူထားပါ */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
body{
  background:linear-gradient(135deg,#f9957f,#f2f5d0);
  min-height:100vh;
  overflow-x:hidden;
}

/* ================= HEADER ================= */
header{position:sticky;top:0;z-index:999;padding:10px}
.nav-box{
  background:#fff;
  height:2.5cm;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 16px;
  box-shadow:0 6px 18px rgba(0,0,0,.12);
  white-space:nowrap;
}
.nav-left,.nav-right{display:flex;gap:12px}
.nav-left a{
  font-size:12px;
  text-decoration:none;
  color:#111;
  font-weight:500;
  transition: color 0.3s;
}
.nav-left a:hover{
  color: #f048c6;
}
.logo{font-size:16px;font-weight:700}
.sign-btn{
  background:#111;
  color:#fff;
  padding:6px 14px;
  border-radius:6px;
  font-size:12px;
  text-decoration:none;
}

/* TED text in header - right side */
.ted-header {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  font-size: 24px;
  font-weight: 800;
  color: #111;
  letter-spacing: 1px;
  text-transform: uppercase;
  background: linear-gradient(50deg, #f6ea41, #f048c6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ================= HERO ================= */
.hero{
  text-align:center;
  padding:40px 16px 10px;
}
.hero h1{font-size:32px;margin-bottom:10px}
.hero p{font-size:15px;margin-bottom:20px}
.hero .actions{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-bottom: 20px;
}
.hero button{
  padding:12px 26px;
  border:none;
  border-radius:10px;
  font-weight:600;
  cursor:pointer;
  transition:.25s;
}
.hero button:hover{transform:scale(1.08)}
.shop{background:#111;color:#fff}
.explore{background:#fff}

/* HERO IMAGE */
.hero-img-container {
  margin: 40px auto 20px;
  width: 100%;
  display: flex;
  justify-content: center;
}

.hero-img {
  margin: 0 auto;
  width: 400px;
  max-width: 90%;
}

.hero-img img {
  width: 100%;
  border-radius: 15px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

/* Scroll animation */
.hero-img img.scroll-animate {
  opacity: 1;
  transform: translateY(0);
}

/* ================= PRODUCTS ================= */
.products{
  position:fixed;
  bottom:-100%;
  left:0;
  width:100%;
  background:#fff;
  border-radius:20px 20px 0 0;
  padding:20px;
  transition:.5s;
  z-index:800;
}
.products.show{bottom:0}
.product-row{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:20px;
}
.product{
  width:140px;
  cursor:pointer;
  transition:.25s;
}
.product:hover{transform:scale(1.06)}
.product img{width:100%;border-radius:12px}
.product p{text-align:center;margin-top:8px;font-weight:600}

/* PRODUCTS HEADER */
.products-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
  border-bottom: 1px solid #eee;
}
.products-header h3 {
  font-size: 18px;
  color: #111;
}
.close-products {
  font-size: 22px;
  cursor: pointer;
  color: #999;
  transition: color 0.2s;
  padding: 5px 10px;
}
.close-products:hover {
  color: #111;
}

/* ================= PORTAL PAGE ================= */
.portal-page {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #fff;
  z-index: 1001;
  display: none;
  flex-direction: column;
  overflow-y: auto;
  padding: 20px;
}

.portal-page.show {
  display: flex;
}

.portal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 15px;
  border-bottom: 1px solid #eee;
  margin-bottom: 20px;
}

.portal-header h2 {
  font-size: 22px;
  color: #111;
}

.portal-close {
  font-size: 24px;
  cursor: pointer;
  color: #999;
  transition: color 0.2s;
  padding: 5px;
}

.portal-close:hover {
  color: #111;
}

.order-form {
  max-width: 500px;
  margin: 0 auto;
  width: 100%;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: #333;
}

.form-group input,
.form-group textarea {
  width: 100%;
  padding: 12px 15px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 15px;
  transition: border 0.3s;
}

.form-group input:focus,
.form-group textarea:focus {
  border-color: #f048c6;
  outline: none;
}

.form-group textarea {
  height: 100px;
  resize: vertical;
}

/* NEW: Email field ထည့်ထားတယ် */
.email-container {
  background: #f9f9f9;
  border-radius: 8px;
  padding: 15px;
  margin-top: 10px;
  border: 1px solid #ddd;
}

.email-container label {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
  font-weight: 600;
  color: #333;
}

.email-note {
  font-size: 12px;
  color: #666;
  margin-top: 8px;
  padding: 8px;
  background: #fff;
  border-radius: 5px;
  border-left: 3px solid #f048c6;
}

/* Kpay Transaction Number field */
.kpay-transaction-container {
  background: #f9f9f9;
  border-radius: 8px;
  padding: 15px;
  margin-top: 10px;
  border: 1px solid #ddd;
}

.kpay-transaction-container label {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
  font-weight: 600;
  color: #333;
}

.kpay-note {
  font-size: 12px;
  color: #666;
  margin-top: 8px;
  padding: 8px;
  background: #fff;
  border-radius: 5px;
  border-left: 3px solid #f048c6;
}

.submit-btn {
  background: #111;
  color: #fff;
  border: none;
  padding: 14px 24px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  width: 100%;
  transition: background 0.3s;
  margin-top: 10px;
  position: relative;
}

.submit-btn:hover:not(:disabled) {
  background: #333;
}

.submit-btn:disabled {
  background: #999;
  cursor: not-allowed;
}

.loading-spinner {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(255,255,255,.3);
  border-radius: 50%;
  border-top-color: #fff;
  animation: spin 1s ease-in-out infinite;
  margin-right: 10px;
  vertical-align: middle;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.payment-info {
  background: #fff;
  border-radius: 10px;
  padding: 15px;
  margin-top: 30px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  border: 1px solid #eee;
  text-align: center;
}

.payment-info h3 {
  margin-bottom: 10px;
  color: #111;
  font-size: 18px;
}

.kpay-number {
  font-size: 20px;
  font-weight: 700;
  color: #333;
  letter-spacing: 1px;
  padding: 12px;
  background: #f9f9f9;
  border-radius: 8px;
  margin: 15px 0;
}

.payment-note {
  font-size: 14px;
  color: #666;
  margin-top: 10px;
  line-height: 1.5;
}

/* Success Message */
.success-message {
  display: none;
  background: #27ae60;
  color: white;
  padding: 15px;
  border-radius: 8px;
  text-align: center;
  margin-top: 20px;
  animation: fadeIn 0.5s;
}

.success-message.show {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ================= MODALS ================= */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1000;
}
.modal.show{display:flex}
.modal-box{
  background:#fff;
  padding:20px;
  border-radius:14px;
  width:85%;
  max-width:360px;
  position:relative;
}
.close{
  position:absolute;
  top:10px;
  right:14px;
  font-size:18px;
  cursor:pointer;
}

/* IMAGE MODAL */
.img-modal img{width:100%;border-radius:14px}

@media(min-width:768px){
  .nav-left a,.sign-btn{font-size:14px}
  .logo{font-size:20px}
  .hero-img{width:450px}
  .ted-header {font-size: 28px;}
}

@media(max-width:480px){
  .hero-img{width:300px}
}
</style>
</head>
<body>

<header>
  <div class="nav-box">
    <div class="nav-left">
      <a href="https://www.tiktok.com/@teddy1e?_r=1&_t=ZS-92vi2jbwEMe" target="_blank">TikTok</a>
      <a href="mailto:founderbylin@gmail.com">Email</a>
    </div>
    <div class="nav-right">
      <div class="ted-header">TED</div>
    </div>
  </div>
</header>

<section class="hero">
  <h1>Where vision meets value</h1>
  <p>Content Video, Poster, Vinyl, Logo</p>
  <div class="actions">
    <button class="shop" onclick="openPortal()">Shop Now</button>
    <button class="explore" onclick="showProducts()">Explore All</button>
  </div>

  <div class="hero-img-container">
    <div class="hero-img">
      <img src="ww.jpg" alt="Editing Video" id="mainImage">
    </div>
  </div>
</section>

<!-- PRODUCTS -->
<section class="products" id="products">
  <div class="products-header">
    <h3>Our Products</h3>
    <div class="close-products" onclick="hideProducts()">✕</div>
  </div>
  <div class="product-row">
    <div class="product" onclick="openImg(this)">
      <img src="https://i.imgur.com/8Km9tLL.jpg">
      <p>Product 1</p>
    </div>
    <div class="product" onclick="openImg(this)">
      <img src="https://i.imgur.com/QCNbOAo.jpg">
      <p>Product 2</p>
    </div>
  </div>
</section>

<!-- PORTAL PAGE -->
<div class="portal-page" id="portalPage">
  <div class="portal-header">
    <h2>Order Now</h2>
    <div class="portal-close" onclick="closePortal()">✕</div>
  </div>
  
  <div class="order-form">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" placeholder="Enter your full name">
    </div>
    
    <!-- NEW: Email field ထည့်ထားတယ် -->
    <div class="form-group">
      <label>Email Address (Required)</label>
      <div class="email-container">
        <label for="customerEmail">
          <i class="fas fa-envelope" style="color: #f048c6;"></i>
          Enter your email address
        </label>
        <input type="email" id="customerEmail" placeholder="example@gmail.com" style="width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 8px; font-size: 15px;">
        <div class="email-note">
          <i class="fas fa-info-circle"></i> Order confirmation will be sent to this email
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label for="address">Address</label>
      <textarea id="address" placeholder="Enter your complete address"></textarea>
    </div>
    
    <div class="form-group">
      <label for="phone">Phone Number</label>
      <input type="tel" id="phone" placeholder="Enter your phone number">
    </div>
    
    <div class="form-group">
      <label for="detail">Detail</label>
      <textarea id="detail" placeholder="Enter order details (video length, poster size, design requirements, etc.)"></textarea>
    </div>
    
    <div class="form-group">
      <label>Kpay Transaction Number</label>
      <div class="kpay-transaction-container">
        <label for="kpayTransaction">
          <i class="fas fa-money-bill-wave" style="color: #f048c6;"></i>
          Enter your Kpay transaction number
        </label>
        <input type="text" id="kpayTransaction" placeholder="e.g., KP123456789ABC" style="width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 8px; font-size: 15px;">
        <div class="kpay-note">
          <i class="fas fa-info-circle"></i> Please enter the transaction number from your Kpay receipt
        </div>
      </div>
    </div>
    
    <div id="successMessage" class="success-message">
      <i class="fas fa-check-circle"></i> Order submitted successfully! You will receive a confirmation email shortly.
    </div>
    
    <!-- FormSubmit form - ဒီမှာ email field ကိုလည်း ထည့်ပေးထားတယ် -->
    <form id="orderEmailForm" action="https://formsubmit.co/founderbylin@gmail.com" method="POST" style="display: none;">
      <input type="hidden" name="_subject" value="New Order from TED Store">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_template" value="table">
      <input type="hidden" name="_autoresponse" value="Thank you for your order! We have received your order details and will contact you shortly.">
      <input type="hidden" name="name" id="emailName">
      <input type="hidden" name="email" id="emailCustomerEmail"> <!-- NEW: Email field -->
      <input type="hidden" name="address" id="emailAddress">
      <input type="hidden" name="phone" id="emailPhone">
      <input type="hidden" name="order_details" id="emailDetail">
      <input type="hidden" name="kpay_transaction" id="emailKpayTransaction">
      <input type="hidden" name="kpay_number" value="09794907619">
    </form>
    
    <button class="submit-btn" id="submitBtn" onclick="submitOrder()">
      <span id="submitText">Place Order</span>
    </button>
    
    <div class="payment-info">
      <h3>Payment Information</h3>
      <p>Please send payment to the following Kpay number:</p>
      <div class="kpay-number">Kpay - 09794907619</div>
      <p class="payment-note">After payment, please enter your Kpay transaction number above. Your order will be processed after we verify your payment.</p>
      <p style="margin-top: 15px; color: #f048c6; font-weight: 600;">
        <i class="fas fa-envelope"></i> Order details will be sent to: founderbylin@gmail.com
      </p>
      <p style="margin-top: 10px; font-size: 13px; color: #333;">
        <i class="fas fa-user-check"></i> Customer's email will be included in the order notification
      </p>
    </div>
  </div>
</div>

<!-- SIGN MODAL -->
<div class="modal" id="signModal">
  <div class="modal-box">
    <span class="close" onclick="closeSign()">✕</span>
    <h3>Sign in / Sign up</h3>
    <p style="margin-top:10px">Continue to shop</p>
  </div>
</div>

<!-- IMAGE MODAL -->
<div class="modal img-modal" id="imgModal">
  <div class="modal-box">
    <span class="close" onclick="closeImg()">✕</span>
    <img id="bigImg">
  </div>
</div>

<script>
// Scroll animation for image
window.addEventListener('scroll', function() {
  const image = document.getElementById('mainImage');
  const imagePosition = image.getBoundingClientRect().top;
  const screenPosition = window.innerHeight / 1.3;
  
  if (imagePosition < screenPosition) {
    image.classList.add('scroll-animate');
  }
});

// Initial check on page load
window.addEventListener('load', function() {
  const image = document.getElementById('mainImage');
  setTimeout(() => {
    const imagePosition = image.getBoundingClientRect().top;
    const screenPosition = window.innerHeight / 1.3;
    
    if (imagePosition < screenPosition) {
      image.classList.add('scroll-animate');
    } else {
      // If image is visible on page load, animate it
      setTimeout(() => {
        image.classList.add('scroll-animate');
      }, 300);
    }
  }, 100);
});

function showProducts(){
  document.getElementById('products').classList.add('show');
}

function hideProducts(){
  document.getElementById('products').classList.remove('show');
}

function openPortal(){
  document.getElementById('portalPage').classList.add('show');
}

function closePortal(){
  document.getElementById('portalPage').classList.remove('show');
}

function showLoading(show) {
  const submitBtn = document.getElementById('submitBtn');
  const submitText = document.getElementById('submitText');
  
  if (show) {
    submitBtn.disabled = true;
    submitText.innerHTML = '<span class="loading-spinner"></span> Processing...';
  } else {
    submitBtn.disabled = false;
    submitText.textContent = 'Place Order';
  }
}

function generateOrderId() {
  const timestamp = Date.now();
  const random = Math.floor(Math.random() * 1000);
  return `TED-${timestamp.toString().slice(-6)}${random.toString().padStart(3, '0')}`;
}

function submitOrder(){
  const name = document.getElementById('name').value;
  const email = document.getElementById('customerEmail').value; // NEW: Get email
  const address = document.getElementById('address').value;
  const phone = document.getElementById('phone').value;
  const detail = document.getElementById('detail').value;
  const kpayTransaction = document.getElementById('kpayTransaction').value;
  const successMessage = document.getElementById('successMessage');
  
  // NEW: Validate email
  if(!name || !email || !address || !phone || !detail || !kpayTransaction) {
    alert('Please fill in all required fields before placing order.');
    return;
  }
  
  // Validate email format
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    alert('Please enter a valid email address.');
    return;
  }
  
  // Validate Kpay transaction number format
  if (kpayTransaction.trim().length < 5) {
    alert('Please enter a valid Kpay transaction number.');
    return;
  }
  
  // Show loading state
  showLoading(true);
  successMessage.classList.add('show');
  successMessage.innerHTML = '<i class="fas fa-check-circle"></i> Sending order to your email...';
  
  try {
    // Get current date and time
    const now = new Date();
    const orderDate = now.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
    
    // Generate order ID
    const orderId = generateOrderId();
    
    // Prepare data for FormSubmit - ဒီမှာ email ကိုလည်း ထည့်ပေးထားတယ်
    document.getElementById('emailName').value = name;
    document.getElementById('emailCustomerEmail').value = email; // NEW: Set email
    document.getElementById('emailAddress').value = address;
    document.getElementById('emailPhone').value = phone;
    document.getElementById('emailDetail').value = detail;
    document.getElementById('emailKpayTransaction').value = kpayTransaction;
    
    // Send email via FormSubmit
    const emailForm = document.getElementById('orderEmailForm');
    
    // Add order date, ID, and email to the message
    const additionalInfo = `\n\nOrder ID: ${orderId}\nOrder Date: ${orderDate}\nCustomer Email: ${email}\nKpay Transaction: ${kpayTransaction}`;
    document.getElementById('emailDetail').value = detail + additionalInfo;
    
    // Submit the form
    setTimeout(() => {
      emailForm.submit();
      
      // Show success message
      setTimeout(() => {
        successMessage.innerHTML = '<i class="fas fa-check-circle"></i> Order submitted successfully! Check your email for confirmation.';
        
        // Show thank you message
        setTimeout(() => {
          document.getElementById('orderForm').style.display = 'none';
          
          // Clear form
          document.getElementById('name').value = '';
          document.getElementById('customerEmail').value = ''; // NEW: Clear email
          document.getElementById('address').value = '';
          document.getElementById('phone').value = '';
          document.getElementById('detail').value = '';
          document.getElementById('kpayTransaction').value = '';
          
          showLoading(false);
          
          // Close portal after form reset
          setTimeout(() => {
            closePortal();
            successMessage.classList.remove('show');
          }, 2000);
        }, 1000);
      }, 1000);
    }, 500);
    
  } catch (error) {
    console.error('Error submitting order:', error);
    successMessage.innerHTML = '<i class="fas fa-exclamation-circle"></i> Error submitting order. Please try again.';
    successMessage.style.background = '#e74c3c';
    showLoading(false);
    
    setTimeout(() => {
      successMessage.classList.remove('show');
      successMessage.style.background = '#27ae60';
    }, 3000);
  }
}

function openSign(){
  document.getElementById('signModal').classList.add('show');
}

function closeSign(){
  document.getElementById('signModal').classList.remove('show');
}

function openImg(el){
  document.getElementById('bigImg').src = el.querySelector('img').src;
  document.getElementById('imgModal').classList.add('show');
}

function closeImg(){
  document.getElementById('imgModal').classList.remove('show');
}

// Close products panel when clicking outside of it
document.addEventListener('click', function(event) {
  const productsPanel = document.getElementById('products');
  const exploreBtn = document.querySelector('.explore');
  
  // Check if click is outside products panel and not on explore button
  if (productsPanel.classList.contains('show') && 
      !productsPanel.contains(event.target) && 
      event.target !== exploreBtn && 
      !exploreBtn.contains(event.target)) {
    hideProducts();
  }
});
</script>

</body>
</html>
